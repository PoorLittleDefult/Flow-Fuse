{% extends 'index.html' %} {% block content %}
<style>
  body{
    overflow: hidden !important;
  }
</style>

<div class="add">
    <a href="/new-item">New Item</a>
</div>
  <!-- <div class="sort">
    <form action="{{ url_for('sort_by_higher_price') }}" method="post">
      <button type="submit">Sort by Highest Price</button>
    </form>
    <ul>
      {% for item in items %}
        <li>{{ item.name }} - {{ item.price }}</li>
      {% endfor %}
    </ul>
  </div> -->
<div class="container">
  <div class="item-list">
    {% for item in items %}
    <div class="item-card">
      <div class="item-card__header">
        <div class="item-name">{{ item.item_name }}</div>
      </div>
      <div class="item-card__content">
        <div class="item-category"><strong>Category:</strong> {{ item.category }}</div>
        <div class="item-category"><strong>Description:</strong> {{ item.description }}</div>
        <div class="item-price"><strong>Price:</strong> {{ "$%.2f"|format(item.price) }}</div>
        <form action="{{ url_for('buy_action') }}" method="post">
          <input type="hidden" name="item_id" value="{{ item.id }}">
          <input type="submit" class="button-buy" value="Buy Now">
        </form>
      </div>
    </div>
    {% endfor %}
  </div>
</div>  
{% with messages = get_flashed_messages() %}
{% if messages %}
  <ul class=flashes>
  {% for message in messages %}
    <li>{{ message }}</li>
  {% endfor %}
  </ul>
{% endif %}
{% endwith %}
{% endblock %}